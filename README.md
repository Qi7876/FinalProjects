# FinalProjects
# 综合程序设计一：学生成绩管理系统  
## 一、实验目的和任务：  
### 实验目的：  
1. 练习结构、数组、指针、函数、文件等知识的综合运用；  
2. 理解全局变量、局部变量、静态变量等内容。  
3. 理解顺序表的简单排序算法。  
4. 理解结构化程序设计方法，利用结构化程序设计方法，综合运用函数、数组、指针、结构、顺序表等进行较复杂程序设计，能够实现成绩管理系统的功能。  
### 实验任务：  
1. 设计表示学生信息的结构；  
2. 分析函数流程，弄清楚各函数实现功能；  
3. 熟悉文件的操作，编写函数从文件读取学生信息；  
4. 编写输出函数，熟悉格式控制符的使用；  
5. 设计测试文件，测试程序逻辑和编写的函数；  
6. 给出测试结果，分析程序性能。  
## 二、实验内容  
### 完成以下实验步骤，调试运行程序并完成报告。  
1. 对每个教学班生成一个文本文件 （以教学班编号命名） ，包括班上的学生成绩。一行一条学生信息的记录，不同属性用空格隔开，输入数据中无总成绩的值。  
2. 设计一个表示学生信息的结构 struct student；  
每个学生结构包含如下信息：  
属性名 姓名 学号 实验成绩 半期成绩 C 总成绩  
类型 字符串 字符串 整数 整数 整数（初始化为0）  
3. 编写函数从文件读入所有学生信息：  
a) 函数定义 int ReadStudentInfo(const char* filename, struct student\*\*pStudents); 函数返回值：返回学生个数，失败返回-1。输入参数 constchar* filename：数据文件名；struct student** pStudents：返回读取的学生信息，内存由 ReadStudentInfo 函数分配，main 函数释放。  
b) 建议函数流程：  
i. 打开数据文件，失败返回-1；  
ii. 从头到尾扫描数据文件（即预读一遍）获得学生人数；  
iii. 根据学生人数，利用 malloc 和sizeof 等函数或运算符为struct student** pStudents 分配内存；  
iv. 利用fseek 函数，定位到文件头；  
v. 读取数据文件，并把每一条记录通过数组下标法或指针法保存到结构体数组 pStudents 中；  
vi. 关闭文件；  
vii. 返回学生人数。  
4. 编写统计函数：  
a) 函数定义 float Count(struct student pStu [], int num)。输入参数分别为保存学生的结构数组和学生人数；返回值为平均成绩。  
b) 功能为：统计所有学生的总成绩和每个教学班的平均成绩（保留 1 位小数） ；输入参数包括学生信息结构数组地址，学生人数，计算的每个学生的总成绩直接填充到输入结构数组的对应字段中。访问每个学生信息的时候，用指针来指向当前正在处理的学生。  
5. 编写成绩整理函数：  
a) 自行定义函数参数和返回值，实现合并所有教学班数据，再按照行政班（根据学号判断行政班级）分开分析成绩；  
b) 输入所有教学班对应的文件，按学号排序，得到全学院的成绩数组，写入文件 all；  
c) 读入文件 all，统计每个行政班的总人数、各成绩段（<60, 60-75, 75-85, >85）的人数，存入全局变量数组。  
d) 设计一个函数，实现根据学号计算班级，并在本函数中使用。  
7. 编写输出函数：  
以多种形式输出统成绩计和整理结果。  
要求通过一定的格式控制符，使得输出美观。  
1）例如某个教学班输出格式为：  
教学班编号：  
\-------------------------------------  
序号 姓名 学号 实验成绩 半期成绩 C 总成绩  
1 张三  
2 ......  
\-------------------------------------  
平均成绩：  
2）例如学院全部班输出格式为：  
学院成绩统计：  
\-------------------------------------  
序号 行政班号 学生人数 平均成绩  
1 1 班 32 83  
2 2 班 31 78  
......  
3）选择一个行政班，输出各成绩段的人数分布折线图：  
8. 编写 main 函数实现：  
a) 定义变量，其中保存学生信息的数据文件直接在源代码中初始化；  
b) 读取学生信息，如果失败，打印失败信息并退出程序；  
c) 统计和整理学生成绩信息；  
d) 根据简单菜单，选择输出方式。  
e) 释放内存。  
